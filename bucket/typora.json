{
    "version": "0.9.82",
    "description": "A decent markdown editor finally available on Windows",
    "homepage": "https://typora.io",
    "depends": "sudo",
    "license": {
        "identifier": "Freeware",
        "url": "https://support.typora.io/License-Agreement/"
    },
    "notes": "Free during beta.",
    "architecture": {
        "64bit": {
            "url": [
                "https://typora.io/windows/typora-setup-x64.exe#/dl.exe",
                "https://raw.githubusercontent.com/kkzzhizhou/scoop-zapps/master/script/typora/assoc.reg",
                "https://raw.githubusercontent.com/kkzzhizhou/scoop-zapps/master/script/typora/unassoc.reg"
            ],
            "hash": [
                "ad59f795915edf76c390f8e2c62434412d27d6edf0eee01f43646bd13f0fa685",
                "3E1784EBE609D321E623532F8874E08D030407B3C36DFE42B1EA10AE34BC6936",
                "5EA864C0862110BB95A27D760CCD9628B6CA62EAA15A33289425C9452983BD24"
            ],
            "installer": {
                "script": "Expand-InnoArchive -Path \"$dir\\dl.exe\""
            },
            "uninstaller": {
                "script": [
                    "sudo regedit /s $dir\\unassoc.reg",
                    "ie4uinit.exe -show"
                ]
            }
        },
        "32bit": {
            "url": [
                "https://typora.io/windows/typora-setup-ia32.exe#/dl.exe",
                "https://raw.githubusercontent.com/kkzzhizhou/scoop-zapps/master/script/typora/assoc.reg",
                "https://raw.githubusercontent.com/kkzzhizhou/scoop-zapps/master/script/typora/unassoc.reg"
            ],
            "hash": [
                "d3e27b284509b5dee83a0a0f5744097d1a3f880dea5aca6a8b28bf2ff1d73988",
                "B27B39E99B3CD1B639179320CDEAA0526024E4CF48F2CD3531C159464F683A9E",
                "5EA864C0862110BB95A27D760CCD9628B6CA62EAA15A33289425C9452983BD24"
            ],
            "installer": {
                "script": "Expand-InnoArchive -Path \"$dir\\dl.exe\""
            },
            "uninstaller": {
                "script": [
                    "sudo regedit /s $dir\\unassoc.reg",
                    "ie4uinit.exe -show"
                ]
            }
        }
    },
    "bin": "typora.exe",
    "shortcuts": [
        [
            "Typora.exe",
            "Typora"
        ]
    ],
    "post_install": [
        "if (Test-Path(\"$dir\\assoc.reg\")) {",
        "    $path = \"$dir\" -Replace '\\\\', '\\\\'",
        "    $content = Get-Content \"$dir\\assoc.reg\"",
        "    $content = $content -Replace '\\$Path', $path",
        "    Set-Content \"$dir\\assoc.reg\" $content -Encoding ASCII",
        "}",
        "sudo regedit /s $dir\\assoc.reg",
        "ie4uinit.exe -show"
    ],
    "checkver": {
        "url": "https://typora.io/windows/dev_release.html",
        "regex": "<h4>([\\d\\.]+)"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://typora.io/windows/typora-setup-x64.exe#/dl.exe"
            },
            "32bit": {
                "url": "https://typora.io/windows/typora-setup-ia32.exe#/dl.exe"
            }
        }
    }
}
