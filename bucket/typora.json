{
    "version": "0.9.81",
    "description": "A decent markdown editor finally available on Windows",
    "homepage": "https://typora.io",
    "depends": "sudo",
    "license": {
        "identifier": "Freeware",
        "url": "https://support.typora.io/License-Agreement/"
    },
    "notes": "Free during beta.",
    "architecture": {
        "64bit": {
            "url": [
                "https://typora.io/windows/typora-setup-x64.exe#/dl.exe",
                "https://raw.githubusercontent.com/kkzzhizhou/scoop-zapps/master/script/typora/assoc.reg",
                "https://raw.githubusercontent.com/kkzzhizhou/scoop-zapps/master/script/typora/unassoc.reg"
            ],
            "hash": [
                "46e10eee0482247ef12169b8c352915f134caecc1d3a29ac3a08bb9427e60890",
                "3E1784EBE609D321E623532F8874E08D030407B3C36DFE42B1EA10AE34BC6936",
                "5EA864C0862110BB95A27D760CCD9628B6CA62EAA15A33289425C9452983BD24"
            ],
            "installer": {
                "script":[
                    "Expand-InnoArchive -Path \"$dir\\dl.exe\""
                ]
            },
            "uninstaller": {
                "script": [
                    "sudo regedit /s $dir\\unassoc.reg",
                    "ie4uinit.exe -show"
                ]
            }
        },
        "32bit": {
            "url": [
                "https://typora.io/windows/typora-setup-ia32.exe#/dl.exe",
                "https://raw.githubusercontent.com/kkzzhizhou/scoop-zapps/master/script/typora/assoc.reg",
                "https://raw.githubusercontent.com/kkzzhizhou/scoop-zapps/master/script/typora/unassoc.reg"
            ],
            "hash": [
                "f8501621a27c4fe48eeac9ee8f7aa4eb33749ec98c355aa49238e15af4983a66",
                "3E1784EBE609D321E623532F8874E08D030407B3C36DFE42B1EA10AE34BC6936",
                "5EA864C0862110BB95A27D760CCD9628B6CA62EAA15A33289425C9452983BD24"
            ],
            "installer": {
                "script":[
                    "Expand-InnoArchive -Path \"$dir\\dl.exe\""
                ]
            },
            "uninstaller": {
                "script": [
                    "sudo regedit /s $dir\\unassoc.reg",
                    "ie4uinit.exe -show"
                ]
            }
        }
    },
    "bin": "bin\\typora.exe",
    "shortcuts": [
        [
            "Typora.exe",
            "Typora"
        ]
    ],
    "post_install": [
        "if (Test-Path(\"$dir\\assoc.reg\")) {",
        "    $path = \"$dir\" -Replace '\\\\', '\\\\'",
        "    $content = Get-Content \"$dir\\assoc.reg\"",
        "    $content = $content -Replace '\\$Path', $path",
        "    Set-Content \"$dir\\assoc.reg\" $content -Encoding ASCII",
        "}",
        "sudo regedit /s $dir\\assoc.reg",
        "ie4uinit.exe -show"
    ],
    "checkver": {
        "url": "https://typora.io/windows/dev_release.html",
        "regex": "<h4>([\\d\\.]+)"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://typora.io/windows/typora-setup-x64.exe#/dl.exe"
            },
            "32bit": {
                "url": "https://typora.io/windows/typora-setup-ia32.exe#/dl.exe"
            }
        }
    }
}
