{
    "homepage": "https://www.7-zip.org/",
    "description": "A multi-format file archiver with high compression ratios",
    "license": {
        "identifier": "Freeware,LGPL-2.0-only,BSD-3-Clause",
        "url": "https://www.7-zip.org/license.txt"
    },
    "version": "19.00",
    "architecture": {
        "64bit": {
            "url": [
                "https://7-zip.org/a/7z1900-x64.msi",
                "https://raw.githubusercontent.com/kkzzhizhou/scoop-zapps/master/script/7-zip/assoc.reg",
                "https://raw.githubusercontent.com/kkzzhizhou/scoop-zapps/master/script/7-zip/unassoc.reg"
            ],
            "hash": [
                "a7803233eedb6a4b59b3024ccf9292a6fffb94507dc998aa67c5b745d197a5dc",
                "B10A4D1C538795995669C871446E51E77A85D15C3FEB1756A9EF559283885BB8",
                "8B0574C9CD70A7497B444A22F9796B63FCAC459B319498585AB4782EB480D8F1"
            ],
            "uninstaller":{
                "script": [
                    "sudo regsvr32.exe /u /s $dir\\7-zip.dll",
                    "sudo regedit /s $dir\\unassoc.reg",
                    "ie4uinit.exe -show"
                ]
            }
        },
        "32bit": {
            "url": [
                "https://7-zip.org/a/7z1900.msi",
                "https://raw.githubusercontent.com/kkzzhizhou/scoop-zapps/master/script/7-zip/assoc.reg",
                "https://raw.githubusercontent.com/kkzzhizhou/scoop-zapps/master/script/7-zip/unassoc.reg"
            ],
            "hash": [
                "b49d55a52bc0eab14947c8982c413d9be141c337da1368a24aa0484cbb5e89cd",
                "B10A4D1C538795995669C871446E51E77A85D15C3FEB1756A9EF559283885BB8",
                "8B0574C9CD70A7497B444A22F9796B63FCAC459B319498585AB4782EB480D8F1"
            ],
             "uninstaller":{
                "script": [
                    "sudo regsvr32.exe /u /s $dir\\7-zip.dll",
                    "sudo regedit /s $dir\\unassoc.reg",
                    "ie4uinit.exe -show"
                ]
            }
        }
    },
    "extract_dir": "Files/7-Zip",
    "post_install": [ 
        "sudo regsvr32.exe /i /s $dir\\7-zip.dll",
        "if (Test-Path(\"$dir\\assoc.reg\")) {",
        "    $path = \"$dir\" -Replace '\\\\', '\\\\'",
        "    $content = Get-Content \"$dir\\assoc.reg\"",
        "    $content = $content -Replace '\\$Path', $path",
        "    Set-Content \"$dir\\assoc.reg\" $content -Encoding ASCII",
        "}",
        "sudo regedit /s $dir\\assoc.reg",
        "ie4uinit.exe -show"
     ],
    "bin": "7z.exe",
    "checkver": {
        "url": "https://www.7-zip.org/download.html",
        "regex": "Download 7-Zip ([\\d.]+)"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://7-zip.org/a/7z$cleanVersion-x64.msi"
            },
            "32bit": {
                "url": "https://7-zip.org/a/7z$cleanVersion.msi"
            }
        }
    },
    "shortcuts": [
        [
            "7zFM.exe",
            "7-Zip"
        ]
    ]
}